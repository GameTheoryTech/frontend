{"version":3,"sources":["hooks/useTombStats.ts","hooks/usetShareStats.ts","components/Value/Value.tsx","hooks/useStakedTokenPriceInDollars.ts","hooks/masonry/useClaimRewardTimerMasonry.ts","hooks/masonry/useClaimRewardCheck.ts","../node_modules/react-countdown/dist/index.es.js","views/Masonry/components/ProgressCountdown.tsx","hooks/useHarvestFromMasonry.ts","hooks/useEarningsOnMasonry.ts","views/Masonry/components/Harvest.tsx","hooks/masonry/useWithdrawCheck.ts","views/Masonry/components/DepositModal.tsx","views/Masonry/components/WithdrawModal.tsx","hooks/useStakedBalanceOnMasonry.ts","hooks/masonry/useUnstakeTimerMasonry.ts","hooks/useStakeToMasonry.ts","hooks/useWithdrawFromMasonry.ts","views/Masonry/components/Stake.tsx","hooks/useRedeemOnMasonry.ts","hooks/useCurrentEpoch.ts","hooks/useFetchMasonryAPR.ts","hooks/useTreasuryAllocationTimes.ts","hooks/useTotalTVLOnMasonry.ts","hooks/useTotalStakedOnMasonry.ts","views/Masonry/Masonry.js"],"names":["useTombStats","useState","stat","setStat","fastRefresh","useRefresh","tombFinance","useTombFinance","useEffect","a","getTombStat","console","error","fetchTombPrice","useShareStats","slowRefresh","getShareStat","fetchSharePrice","StyledValue","styled","div","Value","value","useStakedTokenPriceInDollars","stakedTokenName","stakedToken","stakedTokenPriceInDollars","setStakedTokenPriceInDollars","isUnlocked","fetchBalance","useCallback","getDepositTokenPriceInDollars","balance","catch","err","stack","refreshStakedTokenPriceInDollars","setInterval","config","refreshInterval","clearInterval","useClaimRewardTimerMasonry","from","Date","to","time","setTime","getUserClaimRewardTime","then","useClaimRewardCheck","canClaimReward","setCanClaimReward","canUserClaimRewardFromMasonry","canUserClaimReward","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","toString","e","_isNativeReflectConstruct","result","Super","NewTarget","this","arguments","apply","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","_iterableToArray","minLen","n","slice","name","test","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","zeroPad","undefined","strValue","String","match","prefix","suffix","strNo","paddedNo","map","join","concat","timeDeltaFormatOptionsDefaults","daysInHours","zeroPadTime","formatTimeDelta","timeDelta","options","days","hours","minutes","seconds","_Object$assign","assign","_Object$assign$zeroPa","zeroPadDays","zeroPadTimeLength","Math","min","formattedHours","Countdown","_React$Component","_super","_this","state","count","startCountdown","interval","window","stopCountdown","onComplete","setState","prevState","addTime","children","cloneElement","Component","propTypes","number","element","func","Countdown$1","mounted","initialTimestamp","calcOffsetStartTimestamp","offsetStartTimestamp","autoStart","offsetTime","legacyMode","legacyCountdownRef","createRef","tick","calcTimeDelta","callback","completed","overtime","onTick","setTimeDeltaState","start","isStarted","prevOffsetStartTimestamp","onStart","controlled","clearTimer","intervalDelay","pause","isPaused","onPause","stop","isStopped","onStop","isStatus","isCompleted","handleOnComplete","date","status","onMount","prevProps","_this$props","now","precision","startTimestamp","_options$now","_options$precision","_options$offsetTime","getTime","timeLeft","clampedPrecision","max","total","round","parseFloat","toFixed","abs","floor","milliseconds","Number","current","_this2","completedCallback","newStatus","api","_this$props2","getApi","formatted","_this$props3","_children","createElement","ref","_this$props4","className","renderer","renderProps","getRenderProps","countdown","_renderProps$formatte","defaultProps","oneOfType","instanceOf","string","bool","StyledCountdown","theme","color","grey","StyledProgressOuter","StyledProgress","progress","StyledCardContentInner","spacing","ProgressCountdown","base","deadline","hideBar","percentage","description","countdownProps","h","m","s","padStart","useHarvestFromMasonry","handleTransactionReceipt","useHandleTransactionReceipt","onReward","harvestCashFromMasonry","useEarningsOnMasonry","BigNumber","setBalance","getEarningsOnMasonry","StyledCardHeader","StyledCardActions","Harvest","rewardsLocked","tombStats","earnings","tokenPriceInDollars","useMemo","priceInDollars","earnedInDollars","getDisplayBalance","Box","Card","CardContent","CardIcon","TokenSymbol","symbol","Label","text","Button","onClick","variant","disabled","eq","mt","style","Typography","textAlign","useWithdrawCheck","canWithdraw","setCanWithdraw","canUserUnstakeFromMasonry","canUserWithdraw","DepositModal","onConfirm","onDismiss","tokenName","val","setVal","fullBalance","getFullDisplayBalance","handleChange","currentTarget","handleSelectMax","Modal","ModalTitle","TokenInput","onSelectMax","onChange","ModalActions","WithdrawModal","useStakedBalanceOnMasonry","getStakedSharesOnMasonry","useUnstakeTimerMasonry","getUserUnstakeTime","useStakeToMasonry","onStake","amount","stakeShareToMasonry","useWithdrawFromMasonry","onWithdraw","withdrawShareFromMasonry","StyledActionSpacer","Stake","useApprove","TSHARE","contracts","Theoretics","address","approveStatus","approve","tokenBalance","useTokenBalance","stakedBalance","canWithdrawFromMasonry","useModal","onDismissDeposit","onPresentDeposit","onDismissWithdraw","onPresentWithdraw","ApprovalState","APPROVED","NOT_APPROVED","marginTop","IconButton","useRedeemOnMasonry","onRedeem","alertDesc","exitFromMasonry","useCurrentEpoch","currentEpoch","setCurrentEpoch","getCurrentEpoch","fetchCurrentEpoch","useFetchMasonryAPR","apr","setApr","dpr","setDpr","getMasonryAPR","getMasonryDPR","fetchMasonryAPR","useTreasuryAllocationTimes","getTreasuryNextAllocationTime","useTotalTVLOnMasonry","totalStaked","setTotalStaked","getTotalTVLInMasonry","fetchTotalStaked","useTotalStakedOnMasonry","getTotalStakedInMasonry","BackgroundImage","createGlobalStyle","useStyles","makeStyles","gridItem","height","breakpoints","up","StyledBoardroom","StyledCardsWrapper","StyledCardWrapper","Masonry","classes","account","useWallet","totalTVL","rebateStats","useTreasury","theoryStats","Page","Alert","severity","align","gutterBottom","marginBottom","outOfBootstrap","bootstrapEpochsLeft","Grid","container","justifyContent","rowSpacing","columnSpacing","item","xs","md","lg","moment","toDate","tombPrice","tombPriceUpdated","nextRewardsLocked","currentWithdrawFeeOf","circulatingSupply","width","currentClaimEpochs","currentWithdrawEpochs","Spacer","UnlockWallet"],"mappings":"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","file":"static/js/15.8f695925.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport useTombFinance from './useTombFinance';\r\nimport { TokenStat } from '../tomb-finance/types';\r\nimport useRefresh from './useRefresh';\r\n\r\nconst useTombStats = () => {\r\n  const [stat, setStat] = useState<TokenStat>();\r\n  const { fastRefresh } = useRefresh();\r\n  const tombFinance = useTombFinance();\r\n\r\n  useEffect(() => {\r\n    async function fetchTombPrice(){\r\n      try {\r\n        setStat(await tombFinance.getTombStat());\r\n      }\r\n      catch(err){\r\n        console.error(err)\r\n      }\r\n    }\r\n    fetchTombPrice();\r\n  }, [setStat, tombFinance, fastRefresh]);\r\n\r\n  return stat;\r\n};\r\n\r\nexport default useTombStats;\r\n","import { useEffect, useState } from 'react';\r\nimport useTombFinance from './useTombFinance';\r\nimport { TokenStat } from '../tomb-finance/types';\r\nimport useRefresh from './useRefresh';\r\n\r\nconst useShareStats = () => {\r\n  const [stat, setStat] = useState<TokenStat>();\r\n  const { slowRefresh } = useRefresh();\r\n  const tombFinance = useTombFinance();\r\n\r\n  useEffect(() => {\r\n    async function fetchSharePrice() {\r\n      try {\r\n        setStat(await tombFinance.getShareStat());\r\n      } catch(err){\r\n        console.error(err)\r\n      }\r\n    }\r\n    fetchSharePrice();\r\n  }, [setStat, tombFinance, slowRefresh]);\r\n\r\n  return stat;\r\n};\r\n\r\nexport default useShareStats;\r\n","import React from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\ninterface ValueProps {\r\n  value: string;\r\n}\r\n\r\nconst Value: React.FC<ValueProps> = ({ value }) => {\r\n  return <StyledValue>{value}</StyledValue>;\r\n};\r\n\r\nconst StyledValue = styled.div`\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n`;\r\n\r\nexport default Value;\r\n","import { useCallback, useEffect, useState } from 'react';\r\n\r\nimport useTombFinance from './useTombFinance';\r\nimport config from '../config';\r\nimport ERC20 from '../tomb-finance/ERC20';\r\n\r\nconst useStakedTokenPriceInDollars = (stakedTokenName: string, stakedToken: ERC20) => {\r\n  const [stakedTokenPriceInDollars, setStakedTokenPriceInDollars] = useState('0');\r\n  const tombFinance = useTombFinance();\r\n  const isUnlocked = tombFinance?.isUnlocked;\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await tombFinance.getDepositTokenPriceInDollars(stakedTokenName, stakedToken);\r\n    setStakedTokenPriceInDollars(balance);\r\n  }, [stakedToken, stakedTokenName, tombFinance]);\r\n\r\n  useEffect(() => {\r\n    if (isUnlocked) {\r\n      fetchBalance().catch((err) => console.error(err.stack));\r\n\r\n      const refreshStakedTokenPriceInDollars = setInterval(fetchBalance, config.refreshInterval);\r\n      return () => clearInterval(refreshStakedTokenPriceInDollars);\r\n    }\r\n  }, [isUnlocked, setStakedTokenPriceInDollars, tombFinance, fetchBalance]);\r\n\r\n  return stakedTokenPriceInDollars;\r\n};\r\n\r\nexport default useStakedTokenPriceInDollars;\r\n","import { useEffect, useState } from 'react';\r\nimport useTombFinance from '../useTombFinance';\r\nimport { AllocationTime } from '../../tomb-finance/types';\r\n\r\nconst useClaimRewardTimerMasonry = () => {\r\n  const [time, setTime] = useState<AllocationTime>({\r\n    from: new Date(),\r\n    to: new Date(),\r\n  });\r\n  const tombFinance = useTombFinance();\r\n\r\n  useEffect(() => {\r\n    if (tombFinance) {\r\n      tombFinance.getUserClaimRewardTime().then(setTime);\r\n    }\r\n  }, [tombFinance]);\r\n  return time;\r\n};\r\n\r\nexport default useClaimRewardTimerMasonry;\r\n","import { useEffect, useState } from 'react';\r\nimport useRefresh from '../useRefresh';\r\nimport useTombFinance from './../useTombFinance';\r\n\r\nconst useClaimRewardCheck = () => {\r\n  const  { slowRefresh } = useRefresh();\r\n  const [canClaimReward, setCanClaimReward] = useState(false);\r\n  const tombFinance = useTombFinance();\r\n  const isUnlocked = tombFinance?.isUnlocked;\r\n\r\n  useEffect(() => {\r\n    async function canUserClaimReward() {\r\n      try {\r\n        setCanClaimReward(await tombFinance.canUserClaimRewardFromMasonry());\r\n      } catch(err){\r\n        console.error(err);\r\n      };\r\n    }\r\n    if (isUnlocked) {\r\n      canUserClaimReward();\r\n    }\r\n  }, [isUnlocked, slowRefresh, tombFinance]);\r\n\r\n  return canClaimReward;\r\n};\r\n\r\nexport default useClaimRewardCheck;\r\n","import { cloneElement, Component, createRef, createElement } from 'react';\nimport { number, element, func, oneOfType, instanceOf, string, bool } from 'prop-types';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction zeroPad(value) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var strValue = String(value);\n  if (length === 0) return strValue;\n  var match = strValue.match(/(.*?)([0-9]+)(.*)/);\n  var prefix = match ? match[1] : '';\n  var suffix = match ? match[3] : '';\n  var strNo = match ? match[2] : strValue;\n  var paddedNo = strNo.length >= length ? strNo : (_toConsumableArray(Array(length)).map(function () {\n    return '0';\n  }).join('') + strNo).slice(length * -1);\n  return \"\".concat(prefix).concat(paddedNo).concat(suffix);\n}\nvar timeDeltaFormatOptionsDefaults = {\n  daysInHours: false,\n  zeroPadTime: 2\n};\nfunction calcTimeDelta(date) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$now = options.now,\n      now = _options$now === void 0 ? Date.now : _options$now,\n      _options$precision = options.precision,\n      precision = _options$precision === void 0 ? 0 : _options$precision,\n      controlled = options.controlled,\n      _options$offsetTime = options.offsetTime,\n      offsetTime = _options$offsetTime === void 0 ? 0 : _options$offsetTime,\n      overtime = options.overtime;\n  var startTimestamp;\n\n  if (typeof date === 'string') {\n    startTimestamp = new Date(date).getTime();\n  } else if (date instanceof Date) {\n    startTimestamp = date.getTime();\n  } else {\n    startTimestamp = date;\n  }\n\n  if (!controlled) {\n    startTimestamp += offsetTime;\n  }\n\n  var timeLeft = controlled ? startTimestamp : startTimestamp - now();\n  var clampedPrecision = Math.min(20, Math.max(0, precision));\n  var total = Math.round(parseFloat(((overtime ? timeLeft : Math.max(0, timeLeft)) / 1000).toFixed(clampedPrecision)) * 1000);\n  var seconds = Math.abs(total) / 1000;\n  return {\n    total: total,\n    days: Math.floor(seconds / (3600 * 24)),\n    hours: Math.floor(seconds / 3600 % 24),\n    minutes: Math.floor(seconds / 60 % 60),\n    seconds: Math.floor(seconds % 60),\n    milliseconds: Number((seconds % 1 * 1000).toFixed()),\n    completed: total <= 0\n  };\n}\nfunction formatTimeDelta(timeDelta, options) {\n  var days = timeDelta.days,\n      hours = timeDelta.hours,\n      minutes = timeDelta.minutes,\n      seconds = timeDelta.seconds;\n\n  var _Object$assign = Object.assign(Object.assign({}, timeDeltaFormatOptionsDefaults), options),\n      daysInHours = _Object$assign.daysInHours,\n      zeroPadTime = _Object$assign.zeroPadTime,\n      _Object$assign$zeroPa = _Object$assign.zeroPadDays,\n      zeroPadDays = _Object$assign$zeroPa === void 0 ? zeroPadTime : _Object$assign$zeroPa;\n\n  var zeroPadTimeLength = Math.min(2, zeroPadTime);\n  var formattedHours = daysInHours ? zeroPad(hours + days * 24, zeroPadTime) : zeroPad(hours, zeroPadTimeLength);\n  return {\n    days: daysInHours ? '' : zeroPad(days, zeroPadDays),\n    hours: formattedHours,\n    minutes: zeroPad(minutes, zeroPadTimeLength),\n    seconds: zeroPad(seconds, zeroPadTimeLength)\n  };\n}\n\nvar Countdown = function (_React$Component) {\n  _inherits(Countdown, _React$Component);\n\n  var _super = _createSuper(Countdown);\n\n  function Countdown() {\n    var _this;\n\n    _classCallCheck(this, Countdown);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      count: _this.props.count || 3\n    };\n\n    _this.startCountdown = function () {\n      _this.interval = window.setInterval(function () {\n        var count = _this.state.count - 1;\n\n        if (count === 0) {\n          _this.stopCountdown();\n\n          _this.props.onComplete && _this.props.onComplete();\n        } else {\n          _this.setState(function (prevState) {\n            return {\n              count: prevState.count - 1\n            };\n          });\n        }\n      }, 1000);\n    };\n\n    _this.stopCountdown = function () {\n      clearInterval(_this.interval);\n    };\n\n    _this.addTime = function (seconds) {\n      _this.stopCountdown();\n\n      _this.setState(function (prevState) {\n        return {\n          count: prevState.count + seconds\n        };\n      }, _this.startCountdown);\n    };\n\n    return _this;\n  }\n\n  _createClass(Countdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.startCountdown();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children ? cloneElement(this.props.children, {\n        count: this.state.count\n      }) : null;\n    }\n  }]);\n\n  return Countdown;\n}(Component);\nCountdown.propTypes = {\n  count: number,\n  children: element,\n  onComplete: func\n};\n\nvar Countdown$1 = function (_React$Component) {\n  _inherits(Countdown$1, _React$Component);\n\n  var _super = _createSuper(Countdown$1);\n\n  function Countdown$1(props) {\n    var _this;\n\n    _classCallCheck(this, Countdown$1);\n\n    _this = _super.call(this, props);\n    _this.mounted = false;\n    _this.initialTimestamp = _this.calcOffsetStartTimestamp();\n    _this.offsetStartTimestamp = _this.props.autoStart ? 0 : _this.initialTimestamp;\n    _this.offsetTime = 0;\n    _this.legacyMode = false;\n    _this.legacyCountdownRef = createRef();\n\n    _this.tick = function () {\n      var timeDelta = _this.calcTimeDelta();\n\n      var callback = timeDelta.completed && !_this.props.overtime ? undefined : _this.props.onTick;\n\n      _this.setTimeDeltaState(timeDelta, undefined, callback);\n    };\n\n    _this.start = function () {\n      if (_this.isStarted()) return;\n      var prevOffsetStartTimestamp = _this.offsetStartTimestamp;\n      _this.offsetStartTimestamp = 0;\n      _this.offsetTime += prevOffsetStartTimestamp ? _this.calcOffsetStartTimestamp() - prevOffsetStartTimestamp : 0;\n\n      var timeDelta = _this.calcTimeDelta();\n\n      _this.setTimeDeltaState(timeDelta, \"STARTED\", _this.props.onStart);\n\n      if (!_this.props.controlled && (!timeDelta.completed || _this.props.overtime)) {\n        _this.clearTimer();\n\n        _this.interval = window.setInterval(_this.tick, _this.props.intervalDelay);\n      }\n    };\n\n    _this.pause = function () {\n      if (_this.isPaused()) return;\n\n      _this.clearTimer();\n\n      _this.offsetStartTimestamp = _this.calcOffsetStartTimestamp();\n\n      _this.setTimeDeltaState(_this.state.timeDelta, \"PAUSED\", _this.props.onPause);\n    };\n\n    _this.stop = function () {\n      if (_this.isStopped()) return;\n\n      _this.clearTimer();\n\n      _this.offsetStartTimestamp = _this.calcOffsetStartTimestamp();\n      _this.offsetTime = _this.offsetStartTimestamp - _this.initialTimestamp;\n\n      _this.setTimeDeltaState(_this.calcTimeDelta(), \"STOPPED\", _this.props.onStop);\n    };\n\n    _this.isStarted = function () {\n      return _this.isStatus(\"STARTED\");\n    };\n\n    _this.isPaused = function () {\n      return _this.isStatus(\"PAUSED\");\n    };\n\n    _this.isStopped = function () {\n      return _this.isStatus(\"STOPPED\");\n    };\n\n    _this.isCompleted = function () {\n      return _this.isStatus(\"COMPLETED\");\n    };\n\n    _this.handleOnComplete = function (timeDelta) {\n      if (_this.props.onComplete) _this.props.onComplete(timeDelta);\n    };\n\n    if (props.date) {\n      var timeDelta = _this.calcTimeDelta();\n\n      _this.state = {\n        timeDelta: timeDelta,\n        status: timeDelta.completed ? \"COMPLETED\" : \"STOPPED\"\n      };\n    } else {\n      _this.legacyMode = true;\n    }\n\n    return _this;\n  }\n\n  _createClass(Countdown$1, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.legacyMode) {\n        return;\n      }\n\n      this.mounted = true;\n      if (this.props.onMount) this.props.onMount(this.calcTimeDelta());\n      if (this.props.autoStart) this.start();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.legacyMode) {\n        return;\n      }\n\n      if (this.props.date !== prevProps.date) {\n        this.initialTimestamp = this.calcOffsetStartTimestamp();\n        this.offsetStartTimestamp = this.initialTimestamp;\n        this.offsetTime = 0;\n        this.setTimeDeltaState(this.calcTimeDelta());\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.legacyMode) {\n        return;\n      }\n\n      this.mounted = false;\n      this.clearTimer();\n    }\n  }, {\n    key: \"calcTimeDelta\",\n    value: function calcTimeDelta$1() {\n      var _this$props = this.props,\n          date = _this$props.date,\n          now = _this$props.now,\n          precision = _this$props.precision,\n          controlled = _this$props.controlled,\n          overtime = _this$props.overtime;\n      return calcTimeDelta(date, {\n        now: now,\n        precision: precision,\n        controlled: controlled,\n        offsetTime: this.offsetTime,\n        overtime: overtime\n      });\n    }\n  }, {\n    key: \"calcOffsetStartTimestamp\",\n    value: function calcOffsetStartTimestamp() {\n      return Date.now();\n    }\n  }, {\n    key: \"addTime\",\n    value: function addTime(seconds) {\n      this.legacyCountdownRef.current.addTime(seconds);\n    }\n  }, {\n    key: \"clearTimer\",\n    value: function clearTimer() {\n      window.clearInterval(this.interval);\n    }\n  }, {\n    key: \"isStatus\",\n    value: function isStatus(status) {\n      return this.state.status === status;\n    }\n  }, {\n    key: \"setTimeDeltaState\",\n    value: function setTimeDeltaState(timeDelta, status, callback) {\n      var _this2 = this;\n\n      if (!this.mounted) return;\n      var completedCallback;\n\n      if (!this.state.timeDelta.completed && timeDelta.completed) {\n        if (!this.props.overtime) this.clearTimer();\n        completedCallback = this.handleOnComplete;\n      }\n\n      var onDone = function onDone() {\n        if (callback) callback(_this2.state.timeDelta);\n        if (completedCallback) completedCallback(_this2.state.timeDelta);\n      };\n\n      return this.setState(function (prevState) {\n        var newStatus = status || prevState.status;\n\n        if (timeDelta.completed && !_this2.props.overtime) {\n          newStatus = \"COMPLETED\";\n        } else if (!status && newStatus === \"COMPLETED\") {\n          newStatus = \"STOPPED\";\n        }\n\n        return {\n          timeDelta: timeDelta,\n          status: newStatus\n        };\n      }, onDone);\n    }\n  }, {\n    key: \"getApi\",\n    value: function getApi() {\n      return this.api = this.api || {\n        start: this.start,\n        pause: this.pause,\n        stop: this.stop,\n        isStarted: this.isStarted,\n        isPaused: this.isPaused,\n        isStopped: this.isStopped,\n        isCompleted: this.isCompleted\n      };\n    }\n  }, {\n    key: \"getRenderProps\",\n    value: function getRenderProps() {\n      var _this$props2 = this.props,\n          daysInHours = _this$props2.daysInHours,\n          zeroPadTime = _this$props2.zeroPadTime,\n          zeroPadDays = _this$props2.zeroPadDays;\n      var timeDelta = this.state.timeDelta;\n      return Object.assign(Object.assign({}, timeDelta), {\n        api: this.getApi(),\n        props: this.props,\n        formatted: formatTimeDelta(timeDelta, {\n          daysInHours: daysInHours,\n          zeroPadTime: zeroPadTime,\n          zeroPadDays: zeroPadDays\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.legacyMode) {\n        var _this$props3 = this.props,\n            count = _this$props3.count,\n            _children = _this$props3.children,\n            onComplete = _this$props3.onComplete;\n        return createElement(Countdown, {\n          ref: this.legacyCountdownRef,\n          count: count,\n          onComplete: onComplete\n        }, _children);\n      }\n\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          overtime = _this$props4.overtime,\n          children = _this$props4.children,\n          renderer = _this$props4.renderer;\n      var renderProps = this.getRenderProps();\n\n      if (renderer) {\n        return renderer(renderProps);\n      }\n\n      if (children && this.state.timeDelta.completed && !overtime) {\n        return cloneElement(children, {\n          countdown: renderProps\n        });\n      }\n\n      var _renderProps$formatte = renderProps.formatted,\n          days = _renderProps$formatte.days,\n          hours = _renderProps$formatte.hours,\n          minutes = _renderProps$formatte.minutes,\n          seconds = _renderProps$formatte.seconds;\n      return createElement(\"span\", {\n        className: className\n      }, renderProps.total < 0 ? '-' : '', days, days ? ':' : '', hours, \":\", minutes, \":\", seconds);\n    }\n  }]);\n\n  return Countdown$1;\n}(Component);\nCountdown$1.defaultProps = Object.assign(Object.assign({}, timeDeltaFormatOptionsDefaults), {\n  controlled: false,\n  intervalDelay: 1000,\n  precision: 0,\n  autoStart: true\n});\nCountdown$1.propTypes = {\n  date: oneOfType([instanceOf(Date), string, number]),\n  daysInHours: bool,\n  zeroPadTime: number,\n  zeroPadDays: number,\n  controlled: bool,\n  intervalDelay: number,\n  precision: number,\n  autoStart: bool,\n  overtime: bool,\n  className: string,\n  children: element,\n  renderer: func,\n  now: func,\n  onMount: func,\n  onStart: func,\n  onPause: func,\n  onStop: func,\n  onTick: func,\n  onComplete: func\n};\n\nexport default Countdown$1;\nexport { calcTimeDelta, formatTimeDelta, zeroPad };\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Countdown, { CountdownRenderProps } from 'react-countdown';\r\n\r\ninterface ProgressCountdownProps {\r\n  base: Date;\r\n  deadline: Date;\r\n  hideBar?: boolean;\r\n  description: string;\r\n}\r\n\r\nconst ProgressCountdown: React.FC<ProgressCountdownProps> = ({ base, deadline, hideBar, description }) => {\r\n  const percentage =\r\n    Date.now() >= deadline.getTime()\r\n      ? 100\r\n      : ((Date.now() - base.getTime()) / (deadline.getTime() - base.getTime())) * 100;\r\n\r\n  const countdownRenderer = (countdownProps: CountdownRenderProps) => {\r\n    const { days, hours, minutes, seconds } = countdownProps;\r\n    const h = String(days * 24 + hours);\r\n    const m = String(minutes);\r\n    const s = String(seconds);\r\n    return (\r\n      <StyledCountdown>\r\n        {h.padStart(2, '0')}:{m.padStart(2, '0')}:{s.padStart(2, '0')}\r\n      </StyledCountdown>\r\n    );\r\n  };\r\n  return (\r\n    // <Card>\r\n    <StyledCardContentInner>\r\n      {/* <StyledDesc>{description}</StyledDesc> */}\r\n      <Countdown key={new Date().getTime()} date={deadline} renderer={countdownRenderer} />\r\n      {hideBar ? (\r\n        ''\r\n      ) : (\r\n        <StyledProgressOuter>\r\n          <StyledProgress progress={percentage} />\r\n        </StyledProgressOuter>\r\n      )}\r\n    </StyledCardContentInner>\r\n    // </Card>\r\n  );\r\n};\r\n\r\nconst StyledCountdown = styled.p`\r\n  // font-size: 14px;\r\n  font-weight: 700;\r\n  // color: ${(props) => props.theme.color.grey[100]};\r\n  margin: 0 0 6px 0;\r\n`;\r\n\r\nconst StyledProgressOuter = styled.div`\r\n  width: 100%;\r\n  height: 8px;\r\n  border-radius: 3px;\r\n  background: ${(props) => props.theme.color.grey[700]};\r\n`;\r\n\r\nconst StyledProgress = styled.div<{ progress: number }>`\r\n  width: ${(props) => props.progress}%;\r\n  height: 100%;\r\n  border-radius: 3px;\r\n  background: ${(props) => props.theme.color.grey[100]};\r\n`;\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  // padding: ${(props) => props.theme.spacing[2]}px ${(props) => props.theme.spacing[4]}px;\r\n`;\r\n\r\nexport default ProgressCountdown;\r\n","import { useCallback } from 'react';\r\nimport useTombFinance from './useTombFinance';\r\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\r\n\r\nconst useHarvestFromMasonry = () => {\r\n  const tombFinance = useTombFinance();\r\n  const handleTransactionReceipt = useHandleTransactionReceipt();\r\n\r\n  const handleReward = useCallback(() => {\r\n    handleTransactionReceipt(tombFinance.harvestCashFromMasonry(), 'Claim GAME from Theoretics ');\r\n  }, [tombFinance, handleTransactionReceipt]);\r\n\r\n  return { onReward: handleReward };\r\n};\r\n\r\nexport default useHarvestFromMasonry;\r\n","import { useEffect, useState } from 'react';\r\nimport { BigNumber } from 'ethers';\r\nimport useTombFinance from './useTombFinance';\r\nimport useRefresh from './useRefresh';\r\n\r\nconst useEarningsOnMasonry = () => {\r\n  const { slowRefresh } = useRefresh();\r\n  const [balance, setBalance] = useState(BigNumber.from(0));\r\n  const tombFinance = useTombFinance();\r\n  const isUnlocked = tombFinance?.isUnlocked;\r\n\r\n  useEffect(() => {\r\n    async function fetchBalance() {\r\n      try {\r\n        setBalance(await tombFinance.getEarningsOnMasonry());\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n    if (isUnlocked) {\r\n      fetchBalance();\r\n    }\r\n  }, [isUnlocked, tombFinance, slowRefresh]);\r\n\r\n  return balance;\r\n};\r\n\r\nexport default useEarningsOnMasonry;\r\n","import React, { useMemo } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Box, Button, Card, CardContent, Typography } from '@mui/material';\r\n\r\nimport TokenSymbol from '../../../components/TokenSymbol';\r\nimport Label from '../../../components/Label';\r\nimport Value from '../../../components/Value';\r\nimport CardIcon from '../../../components/CardIcon';\r\nimport useClaimRewardTimerMasonry from '../../../hooks/masonry/useClaimRewardTimerMasonry';\r\nimport useClaimRewardCheck from '../../../hooks/masonry/useClaimRewardCheck';\r\nimport ProgressCountdown from './../components/ProgressCountdown';\r\nimport useHarvestFromMasonry from '../../../hooks/useHarvestFromMasonry';\r\nimport useEarningsOnMasonry from '../../../hooks/useEarningsOnMasonry';\r\nimport useTombStats from '../../../hooks/useTombStats';\r\nimport { getDisplayBalance } from '../../../utils/formatBalance';\r\n\r\nexport interface HarvestProps\r\n{\r\n  rewardsLocked : number\r\n}\r\n\r\nconst Harvest: React.FC<HarvestProps> = ({rewardsLocked}) => {\r\n  const tombStats = useTombStats();\r\n  const { onReward } = useHarvestFromMasonry();\r\n  const earnings = useEarningsOnMasonry();\r\n  const canClaimReward = useClaimRewardCheck();\r\n\r\n  const tokenPriceInDollars = useMemo(\r\n    () => (tombStats ? Number(tombStats.priceInDollars).toFixed(2) : null),\r\n    [tombStats],\r\n  );\r\n\r\n  const earnedInDollars = (Number(tokenPriceInDollars) * Number(getDisplayBalance(earnings))).toFixed(2);\r\n\r\n  const { from, to } = useClaimRewardTimerMasonry();\r\n\r\n\r\n  return (\r\n    <Box>\r\n      <Card>\r\n        <CardContent>\r\n          <StyledCardContentInner>\r\n            <StyledCardHeader>\r\n              <CardIcon>\r\n                <TokenSymbol symbol=\"TOMB\" />\r\n              </CardIcon>\r\n              <Value value={getDisplayBalance(earnings)} />\r\n              <Label text={`≈ $${earnedInDollars}`} color=\"#89cff0\" />\r\n              <Label text=\"Total Earned\" />\r\n              <br/>\r\n              <Value value={`${(Number(getDisplayBalance(earnings)) * (100.0-rewardsLocked) / 100.0).toFixed(4)}`} />\r\n              <Label text={`≈ $${(Number(earnedInDollars) * (100.0-rewardsLocked) / 100.0).toFixed(2)}`} color=\"#89cff0\" />\r\n              <Label text=\"GAME Earned\" />\r\n              <br/>\r\n              <Value value={`${(Number(getDisplayBalance(earnings)) * rewardsLocked / 100.0).toFixed(4)}`} />\r\n              <Label text={`≈ $${(Number(earnedInDollars) * rewardsLocked / 100.0).toFixed(2)}`} color=\"#89cff0\" />\r\n              <Label text=\"LGAME Earned\" />\r\n            </StyledCardHeader>\r\n            <StyledCardActions>\r\n              <Button\r\n                onClick={onReward}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                disabled={earnings.eq(0) || !canClaimReward}\r\n              >\r\n                Claim Reward\r\n              </Button>\r\n            </StyledCardActions>\r\n          </StyledCardContentInner>\r\n        </CardContent>\r\n      </Card>\r\n      <Box mt={2} style={{ color: '#FFF' }}>\r\n        {canClaimReward ? (\r\n          ''\r\n        ) : (\r\n          <Card>\r\n            <CardContent>\r\n              <Typography style={{ textAlign: 'center' }}>Claim possible in</Typography>\r\n              <ProgressCountdown hideBar={true} base={from} deadline={to} description=\"Claim available in\" />\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst StyledCardHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: ${(props) => props.theme.spacing[6]}px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default Harvest;\r\n","import { useEffect, useState } from 'react';\r\nimport useTombFinance from './../useTombFinance';\r\nimport useRefresh from '../useRefresh';\r\n\r\nconst useWithdrawCheck = () => {\r\n  const [canWithdraw, setCanWithdraw] = useState(false);\r\n  const tombFinance = useTombFinance();\r\n  const { slowRefresh } = useRefresh();\r\n  const isUnlocked = tombFinance?.isUnlocked;\r\n\r\n  useEffect(() => {\r\n    async function canUserWithdraw() {\r\n      try {\r\n        setCanWithdraw(await tombFinance.canUserUnstakeFromMasonry());\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n    if (isUnlocked) {\r\n      canUserWithdraw();\r\n    }\r\n  }, [isUnlocked, tombFinance, slowRefresh]);\r\n\r\n  return canWithdraw;\r\n};\r\n\r\nexport default useWithdrawCheck;\r\n","import React, { useCallback, useMemo, useState } from 'react';\r\n\r\nimport { Button } from '@mui/material';\r\n// import Button from '../../../components/Button'\r\nimport Modal, { ModalProps } from '../../../components/Modal';\r\nimport ModalActions from '../../../components/ModalActions';\r\nimport ModalTitle from '../../../components/ModalTitle';\r\nimport TokenInput from '../../../components/TokenInput';\r\n\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance';\r\nimport { BigNumber } from 'ethers';\r\n\r\ninterface DepositModalProps extends ModalProps {\r\n  max: BigNumber;\r\n  onConfirm: (amount: string) => void;\r\n  tokenName?: string;\r\n}\r\n\r\nconst DepositModal: React.FC<DepositModalProps> = ({ max, onConfirm, onDismiss, tokenName = '' }) => {\r\n  const [val, setVal] = useState('');\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max, tokenName === 'USDC' ? 6 : 18);\r\n  }, [max, tokenName]);\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value);\r\n    },\r\n    [setVal],\r\n  );\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance);\r\n  }, [fullBalance, setVal]);\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Deposit ${tokenName}`} />\r\n      <TokenInput\r\n        value={val}\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button color=\"primary\" variant=\"contained\" onClick={() => onConfirm(val)}>\r\n          Confirm\r\n        </Button>\r\n      </ModalActions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default DepositModal;\r\n","import React, { useCallback, useMemo, useState } from 'react';\r\n\r\nimport { Button } from '@mui/material';\r\nimport Modal, { ModalProps } from '../../../components/Modal';\r\nimport ModalActions from '../../../components/ModalActions';\r\nimport ModalTitle from '../../../components/ModalTitle';\r\nimport TokenInput from '../../../components/TokenInput';\r\n\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance';\r\nimport { BigNumber } from 'ethers';\r\n\r\ninterface WithdrawModalProps extends ModalProps {\r\n  max: BigNumber;\r\n  onConfirm: (amount: string) => void;\r\n  tokenName?: string;\r\n}\r\n\r\nconst WithdrawModal: React.FC<WithdrawModalProps> = ({ onConfirm, onDismiss, max, tokenName = '' }) => {\r\n  const [val, setVal] = useState('');\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max);\r\n  }, [max]);\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value);\r\n    },\r\n    [setVal],\r\n  );\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance);\r\n  }, [fullBalance, setVal]);\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Withdraw ${tokenName}`} />\r\n      <TokenInput\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        value={val}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button color=\"primary\" variant=\"contained\" onClick={() => onConfirm(val)}>\r\n          Confirm\r\n        </Button>\r\n        {/* <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\r\n        <Button text=\"Confirm\" onClick={() => onConfirm(val)} /> */}\r\n      </ModalActions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default WithdrawModal;\r\n","import { useEffect, useState } from 'react';\r\nimport { BigNumber } from 'ethers';\r\nimport useTombFinance from './useTombFinance';\r\nimport useRefresh from './useRefresh';\r\n\r\nconst useStakedBalanceOnMasonry = () => {\r\n  const { slowRefresh } = useRefresh();\r\n  const [balance, setBalance] = useState(BigNumber.from(0));\r\n  const tombFinance = useTombFinance();\r\n  const isUnlocked = tombFinance?.isUnlocked;\r\n  useEffect(() => {\r\n    async function fetchBalance() {\r\n      try {\r\n        setBalance(await tombFinance.getStakedSharesOnMasonry());\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n    if (isUnlocked) {\r\n      fetchBalance();\r\n    }\r\n  }, [slowRefresh, isUnlocked, tombFinance]);\r\n  return balance;\r\n};\r\n\r\nexport default useStakedBalanceOnMasonry;\r\n","import { useEffect, useState } from 'react';\r\nimport useTombFinance from './../useTombFinance';\r\nimport { AllocationTime } from '../../tomb-finance/types';\r\n\r\nconst useUnstakeTimerMasonry = () => {\r\n  const [time, setTime] = useState<AllocationTime>({\r\n    from: new Date(),\r\n    to: new Date(),\r\n  });\r\n  const tombFinance = useTombFinance();\r\n\r\n  useEffect(() => {\r\n    if (tombFinance) {\r\n      tombFinance.getUserUnstakeTime().then(setTime);\r\n    }\r\n  }, [tombFinance]);\r\n  return time;\r\n};\r\n\r\nexport default useUnstakeTimerMasonry;\r\n","import { useCallback } from 'react';\r\nimport useTombFinance from './useTombFinance';\r\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\r\n\r\nconst useStakeToMasonry = () => {\r\n  const tombFinance = useTombFinance();\r\n  const handleTransactionReceipt = useHandleTransactionReceipt();\r\n\r\n  const handleStake = useCallback(\r\n    (amount: string) => {\r\n      handleTransactionReceipt(tombFinance.stakeShareToMasonry(amount), `Stake ${amount} THEORY to the Room `);\r\n    },\r\n    [tombFinance, handleTransactionReceipt],\r\n  );\r\n  return { onStake: handleStake };\r\n};\r\n\r\nexport default useStakeToMasonry;\r\n","import { useCallback } from 'react';\r\nimport useTombFinance from './useTombFinance';\r\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\r\n\r\nconst useWithdrawFromMasonry = () => {\r\n  const tombFinance = useTombFinance();\r\n  const handleTransactionReceipt = useHandleTransactionReceipt();\r\n\r\n  const handleWithdraw = useCallback(\r\n    (amount: string) => {\r\n      handleTransactionReceipt(\r\n        tombFinance.withdrawShareFromMasonry(amount),\r\n        `Withdraw ${amount} THEORY from Theoretics `,\r\n      );\r\n    },\r\n    [tombFinance, handleTransactionReceipt],\r\n  );\r\n  return { onWithdraw: handleWithdraw };\r\n};\r\n\r\nexport default useWithdrawFromMasonry;\r\n","import React, { useMemo } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Box, Button, Card, CardContent, Typography } from '@mui/material';\r\n\r\n// import Button from '../../../components/Button';\r\n// import Card from '../../../components/Card';\r\n// import CardContent from '../../../components/CardContent';\r\nimport CardIcon from '../../../components/CardIcon';\r\nimport { AddIcon, RemoveIcon } from '../../../components/icons';\r\nimport IconButton from '../../../components/IconButton';\r\nimport Label from '../../../components/Label';\r\nimport Value from '../../../components/Value';\r\n\r\nimport useApprove, { ApprovalState } from '../../../hooks/useApprove';\r\nimport useModal from '../../../hooks/useModal';\r\nimport useTokenBalance from '../../../hooks/useTokenBalance';\r\nimport useWithdrawCheck from '../../../hooks/masonry/useWithdrawCheck';\r\n\r\nimport { getDisplayBalance } from '../../../utils/formatBalance';\r\n\r\nimport DepositModal from './DepositModal';\r\nimport WithdrawModal from './WithdrawModal';\r\nimport useTombFinance from '../../../hooks/useTombFinance';\r\nimport ProgressCountdown from './../components/ProgressCountdown';\r\nimport useStakedBalanceOnMasonry from '../../../hooks/useStakedBalanceOnMasonry';\r\nimport useStakedTokenPriceInDollars from '../../../hooks/useStakedTokenPriceInDollars';\r\nimport useUnstakeTimerMasonry from '../../../hooks/masonry/useUnstakeTimerMasonry';\r\nimport TokenSymbol from '../../../components/TokenSymbol';\r\nimport useStakeToMasonry from '../../../hooks/useStakeToMasonry';\r\nimport useWithdrawFromMasonry from '../../../hooks/useWithdrawFromMasonry';\r\n\r\nconst Stake: React.FC = () => {\r\n  const tombFinance = useTombFinance();\r\n  const [approveStatus, approve] = useApprove(tombFinance.TSHARE, tombFinance.contracts.Theoretics.address);\r\n\r\n  const tokenBalance = useTokenBalance(tombFinance.TSHARE);\r\n  const stakedBalance = useStakedBalanceOnMasonry();\r\n  const { from, to } = useUnstakeTimerMasonry();\r\n\r\n  const stakedTokenPriceInDollars = useStakedTokenPriceInDollars('THEORY', tombFinance.TSHARE);\r\n  const tokenPriceInDollars = useMemo(\r\n    () =>\r\n      stakedTokenPriceInDollars\r\n        ? (Number(stakedTokenPriceInDollars) * Number(getDisplayBalance(stakedBalance))).toFixed(2).toString()\r\n        : null,\r\n    [stakedTokenPriceInDollars, stakedBalance],\r\n  );\r\n  // const isOldBoardroomMember = boardroomVersion !== 'latest';\r\n\r\n  const { onStake } = useStakeToMasonry();\r\n  const { onWithdraw } = useWithdrawFromMasonry();\r\n  const canWithdrawFromMasonry = useWithdrawCheck();\r\n\r\n  const [onPresentDeposit, onDismissDeposit] = useModal(\r\n    <DepositModal\r\n      max={tokenBalance}\r\n      onConfirm={(value) => {\r\n        onStake(value);\r\n        onDismissDeposit();\r\n      }}\r\n      tokenName={'THEORY'}\r\n    />,\r\n  );\r\n\r\n  const [onPresentWithdraw, onDismissWithdraw] = useModal(\r\n    <WithdrawModal\r\n      max={stakedBalance}\r\n      onConfirm={(value) => {\r\n        onWithdraw(value);\r\n        onDismissWithdraw();\r\n      }}\r\n      tokenName={'THEORY'}\r\n    />,\r\n  );\r\n\r\n  return (\r\n    <Box>\r\n      <Card>\r\n        <CardContent>\r\n          <StyledCardContentInner>\r\n            <StyledCardHeader>\r\n              <CardIcon>\r\n                <TokenSymbol symbol=\"TSHARE\" />\r\n              </CardIcon>\r\n              <Value value={getDisplayBalance(stakedBalance)} />\r\n              <Label text={`≈ $${tokenPriceInDollars}`} color=\"#89cff0\" />\r\n              <Label text={'THEORY Staked'} />\r\n            </StyledCardHeader>\r\n            <StyledCardActions>\r\n              {approveStatus !== ApprovalState.APPROVED ? (\r\n                <Button\r\n                  disabled={approveStatus !== ApprovalState.NOT_APPROVED}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  style={{ marginTop: '20px' }}\r\n                  onClick={approve}\r\n                >\r\n                  Approve THEORY\r\n                </Button>\r\n              ) : (\r\n                <>\r\n                  <IconButton disabled={!canWithdrawFromMasonry} onClick={onPresentWithdraw}>\r\n                    <RemoveIcon />\r\n                  </IconButton>\r\n                  <StyledActionSpacer />\r\n                  <IconButton onClick={onPresentDeposit}>\r\n                    <AddIcon />\r\n                  </IconButton>\r\n                </>\r\n              )}\r\n            </StyledCardActions>\r\n          </StyledCardContentInner>\r\n        </CardContent>\r\n      </Card>\r\n      <Box mt={2} style={{ color: '#FFF' }}>\r\n        {canWithdrawFromMasonry ? (\r\n          ''\r\n        ) : (\r\n          <Card>\r\n            <CardContent>\r\n              <Typography style={{ textAlign: 'center' }}>Withdraw possible in</Typography>\r\n              <ProgressCountdown hideBar={true} base={from} deadline={to} description=\"Withdraw available in\" />\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst StyledCardHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 28px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledActionSpacer = styled.div`\r\n  height: ${(props) => props.theme.spacing[4]}px;\r\n  width: ${(props) => props.theme.spacing[4]}px;\r\n`;\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default Stake;\r\n","import { useCallback } from 'react';\r\nimport useTombFinance from './useTombFinance';\r\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\r\n\r\nconst useRedeemOnMasonry = (description?: string) => {\r\n  const tombFinance = useTombFinance();\r\n  const handleTransactionReceipt = useHandleTransactionReceipt();\r\n\r\n  const handleRedeem = useCallback(() => {\r\n    const alertDesc = description || 'Redeem THEORY from Theoretics ';\r\n    handleTransactionReceipt(tombFinance.exitFromMasonry(), alertDesc);\r\n  }, [tombFinance, description, handleTransactionReceipt]);\r\n  return { onRedeem: handleRedeem };\r\n};\r\n\r\nexport default useRedeemOnMasonry;\r\n","import { useEffect, useState } from 'react';\r\nimport useTombFinance from './useTombFinance';\r\nimport { BigNumber } from 'ethers';\r\nimport useRefresh from './useRefresh';\r\n\r\nconst useCurrentEpoch = () => {\r\n  const [currentEpoch, setCurrentEpoch] = useState<BigNumber>(BigNumber.from(0));\r\n  const tombFinance = useTombFinance();\r\n  const { slowRefresh } = useRefresh(); \r\n\r\n  useEffect(() => {\r\n    async function fetchCurrentEpoch () {\r\n      try {\r\n        setCurrentEpoch(await tombFinance.getCurrentEpoch());\r\n      } catch(err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n    fetchCurrentEpoch();\r\n  }, [setCurrentEpoch, tombFinance, slowRefresh]);\r\n\r\n  return currentEpoch;\r\n};\r\n\r\nexport default useCurrentEpoch;\r\n","import { useEffect, useState } from 'react';\r\nimport useTombFinance from './useTombFinance';\r\nimport useRefresh from './useRefresh';\r\n\r\nconst useFetchMasonryAPR = () => {\r\n  const [apr, setApr] = useState<number>(0);\r\n  const [dpr, setDpr] = useState<number>(0);\r\n  const tombFinance = useTombFinance();\r\n  const { slowRefresh } = useRefresh(); \r\n\r\n  useEffect(() => {\r\n    async function fetchMasonryAPR() {\r\n      try {\r\n        setApr(await tombFinance.getMasonryAPR());\r\n        setDpr(await tombFinance.getMasonryDPR());\r\n      } catch(err){\r\n        console.error(err);\r\n      }\r\n    }\r\n   fetchMasonryAPR();\r\n  }, [setApr, setDpr, tombFinance, slowRefresh]);\r\n\r\n  return {apr,dpr};\r\n};\r\n\r\nexport default useFetchMasonryAPR;\r\n","import { useEffect, useState } from 'react';\r\nimport useTombFinance from './useTombFinance';\r\nimport { AllocationTime } from '../tomb-finance/types';\r\nimport useRefresh from './useRefresh';\r\n\r\n\r\nconst useTreasuryAllocationTimes = () => {\r\n  const { slowRefresh } = useRefresh();\r\n  const [time, setTime] = useState<AllocationTime>({\r\n    from: new Date(),\r\n    to: new Date(),\r\n  });\r\n  const tombFinance = useTombFinance();\r\n  useEffect(() => {\r\n    if (tombFinance) {\r\n      tombFinance.getTreasuryNextAllocationTime().then(setTime);\r\n    }\r\n  }, [tombFinance, slowRefresh]);\r\n  return time;\r\n};\r\n\r\nexport default useTreasuryAllocationTimes;\r\n","import { useEffect, useState } from 'react';\r\nimport { BigNumber } from 'ethers';\r\nimport useTombFinance from './useTombFinance';\r\nimport useRefresh from './useRefresh';\r\n\r\nconst useTotalTVLOnMasonry = () => {\r\n  const [totalStaked, setTotalStaked] = useState(0);\r\n  const tombFinance = useTombFinance();\r\n  const { slowRefresh } = useRefresh();\r\n  const isUnlocked = tombFinance?.isUnlocked;\r\n\r\n  useEffect(() => {\r\n    async function fetchTotalStaked() {\r\n      try {\r\n        setTotalStaked(await tombFinance.getTotalTVLInMasonry());\r\n      } catch(err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n    if (isUnlocked) {\r\n     fetchTotalStaked();\r\n    }\r\n  }, [isUnlocked, slowRefresh, tombFinance]);\r\n\r\n  return totalStaked;\r\n};\r\n\r\nexport default useTotalTVLOnMasonry;\r\n","import { useEffect, useState } from 'react';\r\nimport { BigNumber } from 'ethers';\r\nimport useTombFinance from './useTombFinance';\r\nimport useRefresh from './useRefresh';\r\n\r\nconst useTotalStakedOnMasonry = () => {\r\n  const [totalStaked, setTotalStaked] = useState(BigNumber.from(0));\r\n  const tombFinance = useTombFinance();\r\n  const { slowRefresh } = useRefresh();\r\n  const isUnlocked = tombFinance?.isUnlocked;\r\n\r\n  useEffect(() => {\r\n    async function fetchTotalStaked() {\r\n      try {\r\n        setTotalStaked(await tombFinance.getTotalStakedInMasonry());\r\n      } catch(err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n    if (isUnlocked) {\r\n     fetchTotalStaked();\r\n    }\r\n  }, [isUnlocked, slowRefresh, tombFinance]);\r\n\r\n  return totalStaked;\r\n};\r\n\r\nexport default useTotalStakedOnMasonry;\r\n","import React, { useMemo } from 'react';\r\nimport { useWallet } from 'use-wallet';\r\nimport moment from 'moment';\r\nimport styled from 'styled-components';\r\nimport Spacer from '../../components/Spacer';\r\nimport Harvest from './components/Harvest';\r\nimport Stake from './components/Stake';\r\nimport { makeStyles } from '@mui/styles';\r\nimport useTreasury from \"../../hooks/useTreasury\"\r\n\r\nimport { Box, Card, CardContent, Button, Typography, Grid } from '@mui/material';\r\n\r\nimport { Alert } from '@mui/lab';\r\n\r\nimport UnlockWallet from '../../components/UnlockWallet';\r\nimport Page from '../../components/Page';\r\n\r\nimport useRedeemOnMasonry from '../../hooks/useRedeemOnMasonry';\r\nimport useStakedBalanceOnMasonry from '../../hooks/useStakedBalanceOnMasonry';\r\nimport { getDisplayBalance } from '../../utils/formatBalance';\r\nimport useCurrentEpoch from '../../hooks/useCurrentEpoch';\r\nimport useFetchMasonryAPR from '../../hooks/useFetchMasonryAPR';\r\n\r\nimport useCashPriceInEstimatedTWAP from '../../hooks/useCashPriceInEstimatedTWAP';\r\nimport useCashPriceInNextTWAP from '../../hooks/useCashPriceInNextTWAP';\r\nimport useTreasuryAllocationTimes from '../../hooks/useTreasuryAllocationTimes';\r\nimport useTotalTVLOnMasonry from '../../hooks/useTotalTVLOnMasonry';\r\nimport useClaimRewardCheck from '../../hooks/masonry/useClaimRewardCheck';\r\nimport useWithdrawCheck from '../../hooks/masonry/useWithdrawCheck';\r\nimport ProgressCountdown from './components/ProgressCountdown';\r\n// import MasonryImage from '../../assets/img/masonry.png';\r\nimport { createGlobalStyle } from 'styled-components';\r\nimport useTotalStakedOnMasonry from \"../../hooks/useTotalStakedOnMasonry\";\r\nimport useShareStats from \"../../hooks/usetShareStats\";\r\n\r\n// const BackgroundImage = createGlobalStyle`\r\n//   body, html {\r\n//     background: url(${MasonryImage}) no-repeat !important;\r\n//     background-size: cover !important;\r\n//   }\r\n// `;\r\n\r\nconst BackgroundImage = createGlobalStyle`\r\n  body {\r\n    background-color: var(--black);\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='32' viewBox='0 0 16 32'%3E%3Cg fill='%231D1E1F' fill-opacity='0.4'%3E%3Cpath fill-rule='evenodd' d='M0 24h4v2H0v-2zm0 4h6v2H0v-2zm0-8h2v2H0v-2zM0 0h4v2H0V0zm0 4h2v2H0V4zm16 20h-6v2h6v-2zm0 4H8v2h8v-2zm0-8h-4v2h4v-2zm0-20h-6v2h6V0zm0 4h-4v2h4V4zm-2 12h2v2h-2v-2zm0-8h2v2h-2V8zM2 8h10v2H2V8zm0 8h10v2H2v-2zm-2-4h14v2H0v-2zm4-8h6v2H4V4zm0 16h6v2H4v-2zM6 0h2v2H6V0zm0 24h2v2H6v-2z'/%3E%3C/g%3E%3C/svg%3E\");\r\n}\r\n\r\n* {\r\n    border-radius: 0 !important;\r\n    box-shadow: none !important;\r\n}\r\n`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  gridItem: {\r\n    height: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      height: '90px',\r\n    },\r\n  },\r\n}));\r\n\r\nconst Masonry = () => {\r\n  const classes = useStyles();\r\n  const { account } = useWallet();\r\n  const { onRedeem } = useRedeemOnMasonry();\r\n  const stakedBalance = useStakedBalanceOnMasonry();\r\n  const currentEpoch = useCurrentEpoch();\r\n  //const cashStat = useCashPriceInEstimatedTWAP();\r\n  //const nextCashStat = useCashPriceInNextTWAP();\r\n  const totalTVL = useTotalTVLOnMasonry();\r\n  const totalStaked = useTotalStakedOnMasonry();\r\n  const { apr, dpr } = useFetchMasonryAPR();\r\n  const canClaimReward = useClaimRewardCheck();\r\n  const canWithdraw = useWithdrawCheck();\r\n  //const scalingFactor = useMemo(() => (cashStat ? Number(cashStat.priceInDollars).toFixed(4) : null), [cashStat]);\r\n  const { to } = useTreasuryAllocationTimes();\r\n  const rebateStats = useTreasury()\r\n  const theoryStats = useShareStats();\r\n\r\n  return (\r\n    <Page>\r\n      <BackgroundImage />\r\n      {!!account ? (\r\n        <>\r\n          <Alert variant=\"filled\" severity=\"info\" style={{ marginTop: '50px' }}>\r\n            Theoretics will start at {(new Date('2022-03-28T12:00:00Z')).toString()}.\r\n          </Alert>\r\n          <Typography color=\"textPrimary\" align=\"center\" variant=\"h3\" gutterBottom>\r\n            Theoretics\r\n          </Typography>\r\n          <Alert variant=\"filled\" severity=\"warning\" style={{ marginBottom: '50px' }}>\r\n            The withdraw fee changes the longer you are in the theoretics. The fees are as follows: 1 block = 25%, less than 1 hour = 8%, less than 1 day = 4%, less than 3 days = 2%, less than 5 days = 1%, less than 2 weeks = 0.5%, less than 4 weeks = 0.25%, equal to or more than 4 weeks = 0.01%. Depositing or claiming does not reset your withdraw fee.\r\n          </Alert>\r\n          <Alert variant=\"filled\" severity=\"warning\" style={{ marginBottom: '50px' }}>\r\n            Withdrawing any amount also claims your rewards. The amount of rewards locked increases the closer to under-peg GAME is. At 1.01 or lower, it is 95%. At 4.0 or higher, it is 0%. You get your rewards after the epoch is over if the TWAP (time-weighted average price) is greater or equal to 1.01.{rebateStats.outOfBootstrap ? \"\" : \" Also, the bootstrap phase is ongoing for \" + rebateStats.bootstrapEpochsLeft + \" more epochs, so GAME is being printed regardless of the TWAP right now.\"} You can find your locked LGAME rewards using the My Wallet button. View the docs for more info.\r\n          </Alert>\r\n          <Box mt={5}>\r\n            <Grid container justifyContent=\"center\" rowSpacing={13} columnSpacing={3}>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent>\r\n                    <Typography style={{ textAlign: 'center' }}>Next Epoch</Typography>\r\n                    <ProgressCountdown base={moment().toDate()} hideBar={true} deadline={to} description=\"Next Epoch\" />\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>Current Epoch</Typography>\r\n                    <Typography>{Number(currentEpoch)}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>\r\n                      GAME Price<small> (TWAP)</small>\r\n                    </Typography>\r\n                    <Typography>{rebateStats.tombPrice.toFixed(4)} DAI</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>\r\n                      Price<small> (Next TWAP)</small>\r\n                    </Typography>\r\n                    <Typography>{rebateStats.tombPriceUpdated.toFixed(4)} DAI</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>Total APR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPrice >= 1.01) ? apr.toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>Total DPR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPrice >= 1.01) ? dpr.toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>GAME APR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPrice >= 1.01) ? (apr*(100.0-rebateStats.rewardsLocked)/100.0).toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>LGAME APR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPrice >= 1.01) ? (apr*rebateStats.rewardsLocked/100.0).toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>GAME DPR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPrice >= 1.01) ? (dpr*(100.0-rebateStats.rewardsLocked)/100.0).toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>LGAME DPR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPrice >= 1.01) ? (dpr*rebateStats.rewardsLocked/100.0).toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>LGAME Percentage</Typography>\r\n                    <Typography>{(rebateStats.rewardsLocked).toFixed(2)}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>Next GAME APR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPriceUpdated >= 1.01) ? (apr*(100.0-rebateStats.nextRewardsLocked)/100.0).toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>Next LGAME APR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPriceUpdated >= 1.01) ? (apr*rebateStats.nextRewardsLocked/100.0).toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>Next GAME DPR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPriceUpdated >= 1.01) ? (dpr*(100.0-rebateStats.nextRewardsLocked)/100.0).toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>Next LGAME DPR</Typography>\r\n                    <Typography>{(!rebateStats.outOfBootstrap || rebateStats.tombPriceUpdated >= 1.01) ? (dpr*rebateStats.nextRewardsLocked/100.0).toFixed(2) : \"0.00\"}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>Next LGAME Percentage</Typography>\r\n                    <Typography>{(rebateStats.nextRewardsLocked).toFixed(2)}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>Your Current Withdraw Fee</Typography>\r\n                    <Typography>{(rebateStats.currentWithdrawFeeOf / 100).toFixed(2)}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>TVL</Typography>\r\n                    <Typography>${totalTVL.toFixed(2)}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>THEORY Staked</Typography>\r\n                    <Typography>{getDisplayBalance(totalStaked)}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={2} lg={2}>\r\n                <Card className={classes.gridItem}>\r\n                  <CardContent align=\"center\">\r\n                    <Typography>THEORY Staked % (Circ.+Locked)</Typography>\r\n                    <Typography>{((Number(getDisplayBalance(totalStaked))/(Number(theoryStats?.circulatingSupply)/*-(28555.3529+25959.4118)*/))*100).toFixed(2)}%</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container justifyContent=\"center\">\r\n              <Box mt={3} style={{ width: '525px' }}>\r\n                <Alert variant=\"transparent\" severity=\"info\">\r\n                   Rewards can only be claimed after {rebateStats.currentClaimEpochs} {rebateStats.currentClaimEpochs == 1 ? \"epoch\" : \"epochs\"} since last action. Staked THEORY can only be withdrawn after {rebateStats.currentWithdrawEpochs} {rebateStats.currentWithdrawEpochs == 1 ? \"epoch\" : \"epochs\"} since last action (deposit, withdraw, etc.).\r\n                </Alert>\r\n              </Box>\r\n            </Grid>\r\n\r\n            <Grid container justifyContent=\"center\">\r\n              <Box mt={3} style={{ width: '525px' }}>\r\n                <Alert variant=\"transparent\" severity=\"info\">\r\n                  Next TWAP determines if rewards will be distributed at the end of an epoch. TWAP determines everything else. The number of epochs that you have to wait increases as time progresses. Check the docs for more info.\r\n                </Alert>\r\n              </Box>\r\n            </Grid>\r\n\r\n            <Box mt={4}>\r\n              <StyledBoardroom>\r\n                <StyledCardsWrapper>\r\n                  <StyledCardWrapper>\r\n                    <Harvest rewardsLocked={rebateStats.rewardsLocked} />\r\n                  </StyledCardWrapper>\r\n                  <Spacer />\r\n                  <StyledCardWrapper>\r\n                    <Stake />\r\n                  </StyledCardWrapper>\r\n                </StyledCardsWrapper>\r\n              </StyledBoardroom>\r\n            </Box>\r\n\r\n            {/* <Grid container justifyContent=\"center\" spacing={3}>\r\n            <Grid item xs={4}>\r\n              <Card>\r\n                <CardContent align=\"center\">\r\n                  <Typography>Rewards</Typography>\r\n\r\n                </CardContent>\r\n                <CardActions style={{justifyContent: 'center'}}>\r\n                  <Button color=\"primary\" variant=\"outlined\">Claim Reward</Button>\r\n                </CardActions>\r\n                <CardContent align=\"center\">\r\n                  <Typography>Claim Countdown</Typography>\r\n                  <Typography>00:00:00</Typography>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n            <Grid item xs={4}>\r\n              <Card>\r\n                <CardContent align=\"center\">\r\n                  <Typography>Stakings</Typography>\r\n                  <Typography>{getDisplayBalance(stakedBalance)}</Typography>\r\n                </CardContent>\r\n                <CardActions style={{justifyContent: 'center'}}>\r\n                  <Button>+</Button>\r\n                  <Button>-</Button>\r\n                </CardActions>\r\n              </Card>\r\n            </Grid>\r\n          </Grid> */}\r\n          </Box>\r\n\r\n          <Box mt={5}>\r\n            <Grid container justifyContent=\"center\" spacing={3} mt={10}>\r\n              <Button\r\n                disabled={stakedBalance.eq(0) || (!canWithdraw && !canClaimReward)}\r\n                onClick={onRedeem}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                Claim and Withdraw\r\n              </Button>\r\n            </Grid>\r\n          </Box>\r\n        </>\r\n      ) : (\r\n        <UnlockWallet />\r\n      )}\r\n    </Page>\r\n  );\r\n};\r\n\r\nconst StyledBoardroom = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst StyledCardsWrapper = styled.div`\r\n  display: flex;\r\n  width: 600px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nexport default Masonry;\r\n"],"sourceRoot":""}