(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[22],{1014:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var c,a,r,i,o=t(51),s=(t(2),t(45)),l=t(1888),d=t(1020),u=t(15),b=s.d.div(c||(c=Object(o.a)([""]))),j=s.d.div(a||(a=Object(o.a)(["\n  width: ","px;\n"])),(function(e){return e.theme.spacing[3]})),x=s.d.div(r||(r=Object(o.a)(["\n  align-items: center;\n  display: flex;\n"]))),m=s.d.div(i||(i=Object(o.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 14px;\n  font-weight: 700;\n  height: 44px;\n  justify-content: flex-end;\n"])),(function(e){return e.theme.color.grey[400]})),h=function(e){var n=e.max,t=e.symbol,c=e.onChange,a=e.onSelectMax,r=e.value;return Object(u.jsxs)(b,{children:[Object(u.jsxs)(m,{children:[n.toLocaleString()," ",t," Available"]}),Object(u.jsx)(d.a,{endAdornment:Object(u.jsxs)(x,{children:[Object(u.jsx)(j,{}),Object(u.jsx)("div",{children:Object(u.jsx)(l.a,{size:"small",color:"primary",variant:"contained",onClick:a,children:"Max"})})]}),onChange:c,placeholder:"0",value:r})]})}},1114:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var c,a,r,i=t(51),o=(t(2),t(45)),s=t(15),l=o.d.div(c||(c=Object(i.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: ","px;\n  padding-top: ","px;\n  max-width: 610px;\n  width: 100%;\n  margin: 0 auto;\n  text-align: center;\n"])),(function(e){return e.theme.spacing[6]}),(function(e){return e.theme.spacing[6]})),d=o.d.h1(a||(a=Object(i.a)(["\n  color: ",";\n  font-size: 36px;\n  font-weight: 700;\n  margin: 0;\n  padding: 0;\n"])),(function(e){return e.theme.color.grey[100]})),u=o.d.h3(r||(r=Object(i.a)(["\n  color: ",";\n  font-size: 18px;\n  font-weight: 400;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"])),(function(e){return e.theme.color.grey[400]})),b=function(e){e.icon;var n=e.subtitle,t=e.title;return Object(s.jsxs)(l,{children:[Object(s.jsx)(d,{children:t}),Object(s.jsx)(u,{children:n})]})}},1156:function(e,n,t){"use strict";var c=t(14),a=t(37),r=t(0),i=t.n(r),o=t(2),s=t(317),l=t(987);n.a=function(){var e=Object(o.useState)(),n=Object(a.a)(e,2),t=n[0],r=n[1],d=Object(l.a)().slowRefresh,u=Object(s.a)();return Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=r,e.next=4,u.getBondStat();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.error(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,u,d]),t}},1880:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return Ee}));var c=t(14),a=t(51),r=t(0),i=t.n(r),o=t(2),s=t(1046),l=t(45),d=t(49),u=t(78),b=t(1023),j=t(1114),x=t(37),m=t(1248),h=t(1888),p=t(1388),f=t(317),O=t(1003),v=t(1011),g=t(1400),k=t(1402),y=t(1033),w=t(1389),z=t(1012),C=t(998),E=t(1013),H=t(1014),D=t(29),M=t(15),N=function(e){var n=e.max,t=e.title,c=e.description,a=e.onConfirm,r=e.onDismiss,i=e.action,s=e.tokenName,l=Object(o.useState)(""),d=Object(x.a)(l,2),u=d[0],b=d[1],j=Object(o.useMemo)((function(){return Object(D.b)(n)}),[n]),m=Object(o.useCallback)((function(e){return b(e.currentTarget.value)}),[b]),h=Object(o.useCallback)((function(){b(j)}),[j,b]);return Object(M.jsxs)(z.a,{children:[Object(M.jsx)(E.a,{text:t}),Object(M.jsx)(H.a,{value:u,onSelectMax:h,onChange:m,max:j,symbol:s}),Object(M.jsx)(O.a,{text:c}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(w.a,{text:"Cancel",variant:"secondary",onClick:r}),Object(M.jsx)(w.a,{text:i,onClick:function(){return a(u)}})]})]})},T=t(1026),A=t(1027),B=t(143),L="Unexpected error is occurred.";var P,F,S,I,G,V,R,U,W,q,J,K,Q,X,Y,Z=function(){var e=Object(B.b)();return Object(o.useCallback)((function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;n.catch((function(n){n.message.includes("User denied")||(console.error("Uncaught exception: ".concat(n.stack)),e({error:{message:t,stack:n.stack}}))}))}),[e])},$=l.d.div(P||(P=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  margin-top: ","px;\n"])),(function(e){return-e.theme.spacing[3]})),_=l.d.div(F||(F=Object(a.a)(["\n  background-color: ",";\n  width: 72px;\n  height: 72px;\n  border-radius: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.color.grey[900]}),(function(e){return e.theme.spacing[2]})),ee=l.d.div(S||(S=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spacing[5]})),ne=l.d.div(I||(I=Object(a.a)(["\n  font-size: 20px;\n  padding-left: ","px;\n  padding-right: ","px;\n  padding-bottom: ","px;\n"])),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.spacing[4]})),te=l.d.div(G||(G=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  font-weight: 600;\n"]))),ce=l.d.div(V||(V=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"])),(function(e){return e.theme.spacing[3]})),ae=l.d.span(R||(R=Object(a.a)([""]))),re=l.d.div(U||(U=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),ie=function(e){var n=e.action,t=e.fromToken,c=e.fromTokenName,a=e.toToken,r=e.toTokenName,i=e.priceDesc,o=e.onExchange,s=e.disabled,l=void 0!==s&&s,d=e.disabledDescription,u=e.max,b=void 0===u?void 0:u,j=Z(),w=Object(f.a)().contracts.Treasury,z=Object(A.b)(t,w.address),C=Object(x.a)(z,2),E=C[0],H=C[1],D=Object(T.a)(t),B=Object(y.a)(Object(M.jsx)(N,{title:n,description:i,max:void 0==b?D:D.gt(b)?b:D,onConfirm:function(e){o(e),F()},action:n,tokenName:c})),L=Object(x.a)(B,2),P=L[0],F=L[1];return Object(M.jsx)(m.a,{children:Object(M.jsx)(p.a,{children:Object(M.jsxs)(re,{children:[Object(M.jsx)($,{children:"".concat(n," ").concat(r)}),Object(M.jsxs)(ee,{children:[Object(M.jsxs)(te,{children:[Object(M.jsx)(_,{style:{background:"transparent"},children:Object(M.jsx)(v.a,{symbol:t.symbol,size:54})}),Object(M.jsx)(O.a,{text:c,variant:"normal"})]}),Object(M.jsx)(ne,{children:Object(M.jsx)(g.FontAwesomeIcon,{icon:k.faArrowRight})}),Object(M.jsxs)(te,{children:[Object(M.jsx)(_,{style:{background:"transparent"},children:Object(M.jsx)(v.a,{symbol:a.symbol,size:54})}),Object(M.jsx)(O.a,{text:r,variant:"normal"})]})]}),Object(M.jsx)(ae,{children:i}),Object(M.jsx)(ce,{children:E===A.a.APPROVED||l?Object(M.jsx)(h.a,{color:"primary",variant:"contained",onClick:P,disabled:l,children:d||n}):Object(M.jsx)(h.a,{color:"primary",variant:"contained",disabled:E===A.a.PENDING||E===A.a.UNKNOWN,onClick:function(){return j(H(),"Unable to approve ".concat(c))},children:"Approve ".concat(c)})})]})})})},oe=t(1041),se=t(1156),le=t(47),de=t(34),ue=function(){var e=Object(o.useState)(de.a.from(0)),n=Object(x.a)(e,2),t=n[0],a=n[1],r=Object(f.a)(),s=Object(o.useCallback)(Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.getTombPriceInLastTWAP();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[r]);return Object(o.useEffect)((function(){s().catch((function(e){return console.error("Failed to fetch TOMB price: ".concat(e.stack))}));var e=setInterval(s,le.b.refreshInterval);return function(){return clearInterval(e)}}),[a,r,s]),t},be=t(1034),je=l.d.div(W||(W=Object(a.a)(["\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spacing[2]})),xe=l.d.span(q||(q=Object(a.a)(["\n  //color: ",";\n  text-align: center;\n"])),(function(e){return e.theme.color.grey[300]})),me=l.d.div(J||(J=Object(a.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ","px;\n"])),(function(e){return e.theme.spacing[2]})),he=function(e){var n=e.tokenName,t=e.description,c=e.price;return Object(M.jsx)(m.a,{children:Object(M.jsxs)(me,{children:[Object(M.jsx)(je,{children:"\ud83d\udcb0 ".concat(n," = ").concat(c," DAI")}),Object(M.jsx)(xe,{children:t})]})})},pe=function(){var e=Object(o.useState)(de.a.from(0)),n=Object(x.a)(e,2),t=n[0],a=n[1],r=Object(f.a)();return Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=a,e.next=4,r.getBondsPurchasable();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.error(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,r]),t},fe=de.a.from(10).pow(18),Oe=fe.mul(101).div(100),ve=t(983),ge=t(987),ke=t(1161),ye=Object(l.c)(K||(K=Object(a.a)(["\n  body {\n    background-color: var(--black);\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='32' viewBox='0 0 16 32'%3E%3Cg fill='%231D1E1F' fill-opacity='0.4'%3E%3Cpath fill-rule='evenodd' d='M0 24h4v2H0v-2zm0 4h6v2H0v-2zm0-8h2v2H0v-2zM0 0h4v2H0V0zm0 4h2v2H0V4zm16 20h-6v2h6v-2zm0 4H8v2h8v-2zm0-8h-4v2h4v-2zm0-20h-6v2h6V0zm0 4h-4v2h4V4zm-2 12h2v2h-2v-2zm0-8h2v2h-2V8zM2 8h10v2H2V8zm0 8h10v2H2v-2zm-2-4h14v2H0v-2zm4-8h6v2H4V4zm0 16h6v2H4v-2zM6 0h2v2H6V0zm0 24h2v2H6v-2z'/%3E%3C/g%3E%3C/svg%3E\");\n}\n\n* {\n    background: transparent;\n    border-radius: 0 !important;\n    box-shadow: none !important;\n}\n"]))),we=l.d.div(Q||(Q=Object(a.a)(["\n  display: flex;\n  background: transparent;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]))),ze=l.d.div(X||(X=Object(a.a)(["\n  display: flex;\n  flex: 1;\n  background: transparent;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]))),Ce=l.d.div(Y||(Y=Object(a.a)(["\n  display: flex;\n  flex: 0.8;\n  margin: 0 20px;\n  background: transparent;\n  flex-direction: column;\n\n  @media (max-width: 768px) {\n    width: 80%;\n    margin: 16px 0;\n  }\n"]))),Ee=function(){var e=Object(d.g)().path,n=Object(u.b)().account,t=Object(f.a)(),a=Object(be.b)(),r=Object(se.a)(),l=ue(),x=pe(),m=Object(ke.a)(),h=Object(ge.a)().slowRefresh,p=Object(T.a)(null===t||void 0===t?void 0:t.HODL),O=Object(o.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.buyBonds(n);case 2:c=e.sent,a(c,{summary:"Buy ".concat(Number(n).toFixed(2)," HODL with ").concat(n," TOMB")});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,a]),v=Object(o.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.redeemBonds(n);case 2:c=e.sent,a(c,{summary:"Redeem ".concat(n," HODL")});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,a]),g=Object(o.useMemo)((function(){return l.gt(Oe)}),[l,h]),k=Object(o.useMemo)((function(){return Number(null===r||void 0===r?void 0:r.tokenInFtm)<1.01}),[r,h]);return Object(M.jsx)(d.c,{children:Object(M.jsxs)(s.a,{children:[Object(M.jsx)(ye,{}),n?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ve.a,{color:"textPrimary",align:"center",variant:"h3",gutterBottom:!0,children:"Bonds"}),Object(M.jsx)(d.a,{exact:!0,path:e,children:Object(M.jsx)(j.a,{icon:"\ud83c\udfe6",subtitle:"Earn premiums upon redemption"})}),Object(M.jsxs)(we,{children:[Object(M.jsx)(ze,{children:Object(M.jsx)(ie,{action:"Purchase",fromToken:t.TOMB,fromTokenName:"GAME",toToken:t.HODL,toTokenName:"HODL",priceDesc:k?Object(D.a)(x,18,4)+" HODL available for purchase.":"GAME is over peg",onExchange:O,disabled:!r||g})}),Object(M.jsxs)(Ce,{children:[Object(M.jsx)(he,{tokenName:"GAME",description:"GAME Price (TWAP)",price:Object(D.a)(l,18,4)}),Object(M.jsx)(oe.a,{size:"md"}),Object(M.jsx)(he,{tokenName:"HODL",description:"Current Price (Current GAME Price + Premium)",price:Number(null===r||void 0===r?void 0:r.tokenInFtm).toFixed(2)||"-"})]}),Object(M.jsx)(ze,{children:Object(M.jsx)(ie,{action:"Redeem",fromToken:t.HODL,fromTokenName:"HODL",toToken:t.TOMB,toTokenName:"GAME",priceDesc:"".concat(Object(D.a)(p)," HODL Available in wallet.")+(g?+" ".concat(m.tombAvailable.toFixed(4)," GAME available for purchase with ").concat(m.maxBondSell.toFixed(4)," HODL. Current bonus rate is +").concat((100*m.bondBonus-100).toFixed(2),"%."):""),onExchange:v,disabled:!r||p.eq(0)||m.maxBondSellBN.eq(0)||!g,disabledDescription:g?null:"Enabled when GAME > ".concat(1.01," DAI"),max:m.maxBondSellBN})})]})]}):Object(M.jsx)(b.a,{})]})})}}}]);
//# sourceMappingURL=22.54326ba5.chunk.js.map