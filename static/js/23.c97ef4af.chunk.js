(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[23],{1126:function(e,t,n){"use strict";var c=n(10),a=n(32),r=n(1),o=n.n(r),i=n(2),s=n(297),l=n(39),d=n(29);t.a=function(){var e=Object(i.useState)(d.a.from(0)),t=Object(a.a)(e,2),n=t[0],r=t[1],u=Object(s.a)(),j=Object(i.useCallback)(Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,null===u||void 0===u?void 0:u.getTombPriceInLastTWAP();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[u]);return Object(i.useEffect)((function(){j().catch((function(e){return console.error("Failed to fetch TOMB price: ".concat(e.stack))}));var e=setInterval(j,l.b.refreshInterval);return function(){return clearInterval(e)}}),[r,u,j]),n}},1389:function(e,t,n){"use strict";var c=n(977);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(978)),r=n(11),o=(0,a.default)((0,r.jsx)("path",{d:"M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z"}),"ArrowForwardRounded");t.default=o},1855:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return V}));var c=n(10),a=n(1),r=n.n(a),o=n(2),i=n(994),s=n(43),l=n(71),d=n(985),u=n(32),j=n(939),b=n(1868),x=n(1873),m=n(1875),O=n(1867),h=n(1872),p=n(1389),f=n.n(p),v=n(971),g=n.n(v),y=n(297),k=n(962),A=n(969),T=n(951),M=n(949),D=n(967),N=n(23),w=n(11),C=function(e){var t,n=e.text,c=(e.variant,e.color);return t=c||"var(--white)",Object(w.jsx)("div",{color:t,children:n})},B=function(e){var t=e.max,n=e.title,c=e.description,a=e.onConfirm,r=e.onDismiss,i=e.action,s=e.tokenName,l=Object(o.useState)(""),d=Object(u.a)(l,2),j=d[0],x=d[1],m=Object(o.useMemo)((function(){return Object(N.b)(t)}),[t]),O=Object(o.useCallback)((function(e){return x(e.currentTarget.value)}),[x]),h=Object(o.useCallback)((function(){x(m)}),[m,x]);return Object(w.jsxs)(T.a,{text:n,onDismiss:r,children:[Object(w.jsx)(D.a,{value:j,onSelectMax:h,onChange:O,max:m,symbol:s}),Object(w.jsx)(C,{text:c}),Object(w.jsxs)(M.a,{children:[Object(w.jsx)(b.a,{variant:"contained",onClick:r,children:"Cancel"}),Object(w.jsx)(b.a,{variant:"contained",onClick:function(){return a(j)},children:i})]})]})},P=n(975),E=n(988),L=n(133),G="Unexpected error is occurred.";var W=function(){var e=Object(L.b)();return Object(o.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G;t.catch((function(t){t.message.includes("User denied")||(console.error("Uncaught exception: ".concat(t.stack)),e({error:{message:n,stack:t.stack}}))}))}),[e])},H=n(1852),I=Object(H.a)((function(e){return{button:{width:"2em",height:"2em",fontSize:"14px",padding:"0",minWidth:"auto"},boxed:{"& > *":{position:"relative",height:"calc(100% - 60px)",display:"flex",flexDirection:"column","& .buttonWrap":{marginTop:"auto"}}}}})),S=function(e){var t=e.action,n=e.fromToken,c=e.fromTokenName,a=e.toToken,r=e.toTokenName,o=e.priceDesc,i=e.onExchange,s=e.disabled,l=void 0!==s&&s,d=e.disabledDescription,p=e.max,v=void 0===p?void 0:p,D=W(),N=Object(y.a)().contracts.Treasury,C=Object(E.b)(n,N.address),L=Object(u.a)(C,2),G=L[0],H=L[1],S=Object(P.a)(n),R=Object(A.a)(Object(w.jsx)(B,{title:t,description:o,max:void 0==v?S:S.gt(v)?v:S,onConfirm:function(e){i(e),U()},action:t,tokenName:c})),F=Object(u.a)(R,2),z=F[0],U=F[1],_=I(),q=function(){Q()},J=Object(A.a)(Object(w.jsxs)(T.a,{text:"Purchase"===t?"Purchase HODL":"Reedem GAME",onDismiss:q,children:[Object(w.jsx)(j.a,{variant:"h6",color:"#fff",style:{fontWeight:"500"},children:"Purchase"===t?Object(w.jsxs)(w.Fragment,{children:["When the TWAP of GAME tokens is under $1.01, you can exchange GAME tokens for HODL tokens. The GAME tokens exchanged are then burned, thereby reducing the supply.",Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("strong",{children:"TWAP"}),Object(w.jsx)("br",{}),"Time-Weighted Average Price of GAME during the course of the previous Round."]}):Object(w.jsxs)(w.Fragment,{children:["When the TWAP of GAME tokens is above $1.01, you can redeem your HODL tokens for GAME tokens at a premium.",Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("strong",{children:"TWAP"}),Object(w.jsx)("br",{}),"Time-Weighted Average Price of GAME during the course of the previous Round."]})}),Object(w.jsx)(M.a,{children:Object(w.jsx)(b.a,{color:"primary",variant:"contained",onClick:q,fullWidth:!0,children:"Close"})})]})),$=Object(u.a)(J,2),K=$[0],Q=$[1];return Object(w.jsx)(x.a,{className:_.boxed,children:Object(w.jsxs)(m.a,{children:[Object(w.jsxs)(j.a,{variant:"h4",className:"kallisto",style:{marginBottom:"20px"},children:[t," ",r,Object(w.jsx)(b.a,{variant:"contained",className:_.button,"aria-label":"More info",style:{marginLeft:"10px"},onClick:K,children:Object(w.jsx)(g.a,{fontSize:"inherit"})})]}),Object(w.jsxs)(O.a,{container:!0,justifyContent:"center",spacing:3,alignItems:"center",style:{marginBottom:"50px"},children:[Object(w.jsx)(O.a,{item:!0,xs:"auto",style:{textAlign:"center"},children:Object(w.jsxs)(h.a,{children:[Object(w.jsx)(k.a,{symbol:n.symbol}),Object(w.jsx)(j.a,{variant:"body1",component:"p",style:{marginTop:"10px"},children:c})]})}),Object(w.jsx)(O.a,{item:!0,xs:"auto",style:{textAlign:"center"},children:Object(w.jsx)(f.a,{className:"pinkGlow",style:{fontSize:"34px"}})}),Object(w.jsxs)(O.a,{item:!0,xs:"auto",style:{textAlign:"center"},children:[Object(w.jsx)(k.a,{symbol:a.symbol}),Object(w.jsx)(j.a,{variant:"body1",component:"p",style:{marginTop:"10px"},children:r})]})]}),Object(w.jsxs)(h.a,{className:"buttonWrap",children:[Object(w.jsx)(j.a,{variant:"body2",style:{marginBottom:"20px"},children:o}),G===E.a.APPROVED||l?Object(w.jsx)(b.a,{color:"primary",variant:"contained",onClick:z,disabled:l,children:d||t}):Object(w.jsx)(b.a,{color:"primary",variant:"contained",disabled:G===E.a.PENDING||G===E.a.UNKNOWN,onClick:function(){return D(H(),"Unable to approve ".concat(c))},children:"Approve ".concat(c)})]})]})})},R=n(1119),F=n(1126),z=n(995),U=n(29),_=function(){var e=Object(o.useState)(U.a.from(0)),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(y.a)();return Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=a,e.next=4,null===i||void 0===i?void 0:i.getBondsPurchasable();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.error(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,i]),n},q=U.a.from(10).pow(18),J=q.mul(101).div(100),$=n(944),K=n(1081),Q=Object(H.a)((function(e){return{section:{padding:"100px 0","@media (max-width: 767px)":{padding:"40px 0"}},boxClear:{border:"none",boxShadow:"none","& > *":{padding:"0","&:last-child":{paddingBottom:"0"}}}}})),V=function(){var e=Q(),t=Object(s.h)().path,n=Object(l.b)().account,a=Object(y.a)(),u=Object(z.b)(),b=Object(R.a)(),x=Object(F.a)(),m=_(),h=Object(K.a)(),p=Object($.a)().slowRefresh,f=Object(P.a)(null===a||void 0===a?void 0:a.HODL),v=Object(o.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===a||void 0===a?void 0:a.buyBonds(t);case 2:n=e.sent,u(n,{summary:"Buy ".concat(Number(t).toFixed(2)," HODL with ").concat(t," GAME")});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,u]),g=Object(o.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===a||void 0===a?void 0:a.redeemBonds(t);case 2:n=e.sent,u(n,{summary:"Redeem ".concat(t," HODL")});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,u]),k=Object(o.useMemo)((function(){return x.gt(J)}),[x,p]),A=Object(o.useMemo)((function(){return Number(null===b||void 0===b?void 0:b.tokenInFtm)<1.01}),[b,p]),T=Object(N.a)(f)+" HODL";return Object(w.jsx)(s.c,{children:Object(w.jsx)(i.a,{children:n?Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:e.section,children:[Object(w.jsx)(j.a,{align:"center",variant:"h2",component:"h1",className:"textGlow pink",style:{marginBottom:"20px"},children:"HODL (Bonds)"}),Object(w.jsx)(s.a,{exact:!0,path:t,children:Object(w.jsx)(j.a,{align:"center",variant:"h5",component:"p",style:{marginBottom:"50px",fontWeight:"500"},children:"Earn premiums upon redemption"})}),Object(w.jsxs)(O.a,{container:!0,justifyContent:"center",spacing:3,style:{marginBottom:"20px"},children:[Object(w.jsxs)(O.a,{item:!0,xs:6,md:4,style:{textAlign:"center"},children:[Object(w.jsx)(j.a,{variant:"body1",component:"p",className:"textGlow",children:"Game Price (TWAP)"}),Object(w.jsxs)(j.a,{variant:"h4",style:{marginBottom:"20px"},children:[Object(N.a)(x,18,4)," DAI"]})]}),Object(w.jsxs)(O.a,{item:!0,xs:6,md:4,style:{textAlign:"center"},children:[Object(w.jsx)(j.a,{variant:"body1",component:"p",className:"textGlow",children:"HODL Price (Including Premium)"}),Object(w.jsxs)(j.a,{variant:"h4",style:{marginBottom:"20px"},children:[Number(null===b||void 0===b?void 0:b.tokenInFtm).toFixed(2)||"-"," DAI"]})]})]}),Object(w.jsxs)(O.a,{container:!0,justifyContent:"center",spacing:3,style:{marginBottom:"50px"},children:[Object(w.jsx)(O.a,{item:!0,xs:12,md:4,style:{textAlign:"center"},children:Object(w.jsx)(S,{action:"Purchase",fromToken:null===a||void 0===a?void 0:a.TOMB,fromTokenName:"GAME",toToken:null===a||void 0===a?void 0:a.HODL,toTokenName:"HODL",priceDesc:A?"HODL Purchasable: "+Object(N.a)(m,18,4):"GAME is over peg",onExchange:v,disabled:!b||k})}),Object(w.jsx)(O.a,{item:!0,xs:12,md:4,style:{textAlign:"center"},children:Object(w.jsx)(S,{action:"Redeem",fromToken:null===a||void 0===a?void 0:a.HODL,fromTokenName:"HODL",toToken:null===a||void 0===a?void 0:a.TOMB,toTokenName:"GAME",priceDesc:T,onExchange:g,disabled:!b||f.eq(0)||h.maxBondSellBN.eq(0)||!k,disabledDescription:k?null:"Enabled when GAME > ".concat(1.01," DAI"),max:h.maxBondSellBN})})]})]})}):Object(w.jsx)(d.a,{})})})}},967:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var c,a,r,o=n(45),i=(n(2),n(42)),s=n(1868),l=n(986),d=n(11),u=i.c.div(c||(c=Object(o.a)([""]))),j=i.c.div(a||(a=Object(o.a)([""]))),b=i.c.div(r||(r=Object(o.a)(["\n  align-items: center;\n  display: flex;\n  font-size: 16px;\n  font-weight: 700;\n  height: 44px;\n  justify-content: center;\n"]))),x={height:"56px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},m=function(e){var t=e.max,n=e.symbol,c=e.onChange,a=e.onSelectMax,r=e.value;return Object(d.jsxs)(u,{children:[Object(d.jsxs)(b,{className:"textGlow",children:[t.toLocaleString()," ",n," Available"]}),Object(d.jsx)(l.a,{endAdornment:Object(d.jsx)(j,{children:Object(d.jsx)(s.a,{style:x,size:"small",color:"primary",variant:"contained",onClick:a,children:"Max"})}),onChange:c,placeholder:"0",value:r})]})}},971:function(e,t,n){"use strict";var c=n(977);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(978)),r=n(11),o=(0,a.default)((0,r.jsx)("path",{d:"M11.07 12.85c.77-1.39 2.25-2.21 3.11-3.44.91-1.29.4-3.7-2.18-3.7-1.69 0-2.52 1.28-2.87 2.34L6.54 6.96C7.25 4.83 9.18 3 11.99 3c2.35 0 3.96 1.07 4.78 2.41.7 1.15 1.11 3.3.03 4.9-1.2 1.77-2.35 2.31-2.97 3.45-.25.46-.35.76-.35 2.24h-2.89c-.01-.78-.13-2.05.48-3.15zM14 20c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2z"}),"QuestionMark");t.default=o}}]);
//# sourceMappingURL=23.c97ef4af.chunk.js.map